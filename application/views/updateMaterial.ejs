
<%- include('partials/navbarMain.ejs') %>

<div class="page-wrapper update-material">
    <div class="card">
        <div class="header">
            <div class="card-title text-blue">
                <h1>Update Material</h1>
            </div>
                <p>Make changes to the recipe below and hit 'update' for them to take affect. Remember, you're <b>awesome :)</b></p>
        </div>

        <div class="alert-box">
            <%- include ("flashMessages") %>
        </div>

        <form action="/materials/update/<%= material.id %>", method="POST">
            <label for="name">Name</label>
            <input type="text" name="name" id="name" value="<%= material.name %>">
            <label for="name">Material ID</label>
            <input type="text" name="materialId" id="materialId" value="<%= material.materialId %>">
            <label for="vendor-selection">Vendor:</label>
            <select name="vendorId" id="vendor-selection">
                <option value='' <%= material.vendorId ? '' : 'selected' %>>N/A</option>
                <% vendors && vendors.forEach((vendor, index) => { %>
                    <% const isSelected = (material.vendorId && material.vendorId.toString() === vendor._id.toString()) ? 'selected' : ''; %>
                    <option value="<%= vendor.id %>" <%= isSelected %>><%= vendor.name %></option>
                <% }) %>
            </select>
            <button type="submit" class="submit-button">Update Material</button>
        </form>
    </div>
</div>