<%- include('partials/navbarMain.ejs') %>

<div class="page-wrapper all-recipes">

  <!-- <div class="banner-header recipe-options-banner card">
    <h4>Types of Recipes</h4>
    <div class="full-width recipe-filter-options">
      <a href="/recipes" class="recipe-filter general active">General</a>
      <a href="/printing-setups/all/" class="recipe-filter printing">Printing</a>
      <a href="/cutting-setups/all/" class="recipe-filter cutting">Cutting</a>
      <a href="/winding-setups/all/" class="recipe-filter winding">Winding</a>
    </div>
  </div> -->

  <div class="table-wrapper">
    <div class="table-header">
      <div class="left-column">
        ABC
      </div>

      <div class="right-column">
        <input type="search" class=" recipe-search-bar" id="query" name="q" placeholder="Search...">
        <a class="btn btn-primary create-new-recipe" href="/recipes/create" role="button">New Recipe</a>
      </div>

    </div>
<table class="table recipes">
    <thead role="rowgroup">
      <tr role="row">
        <th role="columnheader" scope="col" tabindex="0" aria-colindex="1" aria-sort="none" class=""><div>Row #</div></th>
        <th role="columnheader" scope="col" tabindex="0" aria-colindex="1" aria-sort="none" class=""><div>Design Number</div></th>
        <th role="columnheader" scope="col" tabindex="0" aria-colindex="1" aria-sort="none" class=""><div>Die Number</div></th>
        <th role="columnheader" scope="col" tabindex="0" aria-colindex="1" aria-sort="none" class=""><div>How-to-Video</div></th>
        <th role="columnheader" scope="col" tabindex="0" aria-colindex="1" aria-sort="none" class=""><div>Notes</div></th>
        <th role="columnheader" scope="col" tabindex="0" aria-colindex="1" aria-sort="none" class=""><div>Author</div></th>
        <th role="columnheader" scope="col" tabindex="0" aria-colindex="1" aria-sort="none" class=""><div>Actions</div></th>
      </tr>
    </thead>
    <tbody>
        <% if (typeof recipes != 'undefined') { %>
            <% recipes.forEach((recipe, index) => { %>
              <!-- onclick="window.location='/setups/<%= recipe.id %>';" -->
                <tr>
                    <td onclick="window.location='/setups/<%= recipe.id %>'" scope="row"><a href='/setups/<%= recipe.id %>'><%= index + 1 %></a></td>
                    <td onclick="window.location='/setups/<%= recipe.id %>'"><%= recipe.designNumber || 'N/A' %></td>
                    <td onclick="window.location='/setups/<%= recipe.id %>'"><%= recipe.dieNumber || 'N/A' %></td>
                    <!-- <td><%= recipe.howToVideo || 'N/A' %></td> -->
                    <td <% if (recipe.howToVideo) { %>onclick="window.open('<%= recipe.howToVideo %>')"<%} else { %><% } %>>
                      <% if (recipe.howToVideo) { %>
                        <div class="video-link-box">
                          <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="none" stroke="#28c76f" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play-circle"><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg>
                          <a href="<%= recipe.howToVideo %>" target="_blank">View Video</a>
                        </div>
                      <%} else { %>
                        N/A
                        <% } %>
                    </td>
                    <td <% if (recipe.notes) { %>onclick="window.open('<%= recipe.notes %>')"<%} else { %><% } %>>
                      <% if (recipe.notes) { %>
                        <div class="video-link-box">
                          <svg data-v-32017d0f="" xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 24 24" fill="none" stroke="#00cfe8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-50 feather feather-edit-2 text-info"><path data-v-32017d0f="" d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>
                          View Notes
                        </div>
                      <%} else { %>
                        N/A
                        <% } %> 
                    </td>
                    <td><div class="media-box"><div class="user-face" <% if (recipe.author.profilePicture && recipe.author.profilePicture.data) { %>style="background: url('data:image/<%= recipe.author.profilePicture.contentType %>;base64,<%= recipe.author.profilePicture.data.toString('base64') %>') center center no-repeat;"<% } %>></div><%= recipe.author.email || 'N/A' %></div></td>
                    <td>
                      <div class="options-reveal-box">
                        <svg data-v-32017d0f="" xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="align-middle text-body feather feather-more-vertical"><circle data-v-32017d0f="" cx="12" cy="12" r="1"></circle><circle data-v-32017d0f="" cx="12" cy="5" r="1"></circle><circle data-v-32017d0f="" cx="12" cy="19" r="1"></circle></svg>
                        <ul class="options-dropdown">
                          <li>
                            <a href="/setups/<%= recipe.id %>">
                              <svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> View
                            </a>
                          </li>
                          <li>
                            <a href="/recipes/update/<%= recipe.id %>">
                              <svg data-v-32017d0f="" xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit"><path data-v-32017d0f="" d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path data-v-32017d0f="" d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> Edit
                            </a>
                          </li>
                          <li>
                            <a href="/recipes/delete/<%= recipe.id %>">
                              <svg data-v-32017d0f="" xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash"><polyline data-v-32017d0f="" points="3 6 5 6 21 6"></polyline><path data-v-32017d0f="" d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg> Delete
                            </a>
                          </li>
                        </ul>
                      </div>
                    </td>
                </tr>
            <% }) %>
        <% } %>
    </tbody>
  </table>
</div>

</div>

